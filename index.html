<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تقييم مركبات نقل الأغذية</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Cairo', sans-serif; }
        .card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-5px );
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        @media print {
            body * {
                visibility: hidden;
            }
            #print-section, #print-section * {
                visibility: visible;
            }
            #print-section {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <!-- Header -->
        <header class="text-center mb-10 no-print">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-700">نظام تقييم مركبات نقل الأغذية</h1>
            <p class="text-gray-600 mt-2">اختر نوع المركبة لبدء عملية التقييم</p>
        </header>

        <!-- Vehicle Type Selection -->
        <div id="vehicle-selection" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 md:gap-6 no-print">
            <!-- Card 1: General -->
            <div onclick="showChecklist('general')" class="card bg-white p-4 rounded-lg shadow-md text-center cursor-pointer">
                <img src="https://img.icons8.com/fluency/96/checklist.png" alt="General" class="mx-auto mb-3 h-16 w-16">
                <h3 class="font-semibold text-gray-700">متطلبات عامة</h3>
            </div>
            <!-- Card 2: Bakery -->
            <div onclick="showChecklist('bakery' )" class="card bg-white p-4 rounded-lg shadow-md text-center cursor-pointer">
                <img src="https://img.icons8.com/fluency/96/bread.png" alt="Bakery" class="mx-auto mb-3 h-16 w-16">
                <h3 class="font-semibold text-gray-700">منتجات المخابز</h3>
            </div>
            <!-- Card 3: Chilled/Frozen -->
            <div onclick="showChecklist('frozen' )" class="card bg-white p-4 rounded-lg shadow-md text-center cursor-pointer">
                <img src="https://img.icons8.com/fluency/96/snowflake.png" alt="Chilled/Frozen" class="mx-auto mb-3 h-16 w-16">
                <h3 class="font-semibold text-gray-700">المبردة والمجمدة</h3>
            </div>
            <!-- Card 4: Fruits/Veg -->
            <div onclick="showChecklist('fruits' )" class="card bg-white p-4 rounded-lg shadow-md text-center cursor-pointer">
                <img src="https://img.icons8.com/fluency/96/group-of-fruits.png" alt="Fruits & Vegetables" class="mx-auto mb-3 h-16 w-16">
                <h3 class="font-semibold text-gray-700">الفواكه والخضروات</h3>
            </div>
            <!-- Card 5: Meats -->
            <div onclick="showChecklist('meats' )" class="card bg-white p-4 rounded-lg shadow-md text-center cursor-pointer">
                <img src="https://img.icons8.com/fluency/96/steak-medium.png" alt="Meats" class="mx-auto mb-3 h-16 w-16">
                <h3 class="font-semibold text-gray-700">اللحوم المبردة</h3>
            </div>
            <!-- Card 6: Fish -->
            <div onclick="showChecklist('fish' )" class="card bg-white p-4 rounded-lg shadow-md text-center cursor-pointer">
                <img src="https://img.icons8.com/fluency/96/fish-food.png" alt="Fish" class="mx-auto mb-3 h-16 w-16">
                <h3 class="font-semibold text-gray-700">الأسماك الطازجة</h3>
            </div>
        </div>

        <!-- Checklist Display Area -->
        <div id="checklist-area" class="mt-10 hidden">
            <div id="print-section" class="bg-white p-6 rounded-lg shadow-lg">
                <div class="flex justify-between items-center mb-6">
                    <h2 id="checklist-title" class="text-2xl font-bold text-teal-700"></h2>
                    <button onclick="hideChecklist( )" class="no-print text-gray-500 hover:text-gray-800">&times; إغلاق</button>
                </div>
                
                <!-- Vehicle Info -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 border-b pb-4">
                    <div>
                        <label for="vehicle-number" class="block text-sm font-medium text-gray-700">رقم المركبة</label>
                        <input type="text" id="vehicle-number" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500">
                    </div>
                    <div>
                        <label for="inspection-date" class="block text-sm font-medium text-gray-700">تاريخ التقييم</label>
                        <input type="date" id="inspection-date" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500">
                    </div>
                </div>

                <!-- Checklist Table -->
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">البند</th>
                                <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">التصنيف</th>
                                <th class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">التقييم</th>
                            </tr>
                        </thead>
                        <tbody id="checklist-body" class="bg-white divide-y divide-gray-200">
                            <!-- Items will be injected here by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <!-- Final Section -->
                <div class="mt-6">
                    <label for="notes" class="block text-sm font-medium text-gray-700">ملاحظات إضافية</label>
                    <textarea id="notes" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500"></textarea>
                </div>
                <div class="mt-4">
                    <label for="inspector-name" class="block text-sm font-medium text-gray-700">اسم المقيِّم</label>
                    <input type="text" id="inspector-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500">
                </div>
                <div class="mt-6 flex items-center justify-between">
                    <div>
                        <label class="block text-sm font-medium text-gray-700">القرار النهائي</label>
                        <div class="mt-2 flex items-center gap-x-6">
                            <div class="flex items-center"><input type="radio" name="final-decision" class="h-4 w-4 border-gray-300 text-teal-600 focus:ring-teal-500"> <span class="mr-2">مقبول</span></div>
                            <div class="flex items-center"><input type="radio" name="final-decision" class="h-4 w-4 border-gray-300 text-red-600 focus:ring-red-500"> <span class="mr-2">مرفوض</span></div>
                        </div>
                    </div>
                    <button onclick="window.print()" class="no-print bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors">
                        طباعة التقرير
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const checklists = {
            general: {
                title: 'قائمة المتطلبات العامة',
                items: [
                    { text: 'القدرة على الحفاظ على درجة الحرارة والرطوبة', classification: 'Major' },
                    { text: 'تصميم يمنع دخول الحشرات والآفات', classification: 'Major' },
                    { text: 'أسطح داخلية سهلة التنظيف وغير سامة', classification: 'Major' },
                    { text: 'توفير إنارة كافية داخل حيز التخزين', classification: 'Minor' },
                    { text: 'توفير سجلات للتحميل والتفريغ', classification: 'Minor' }
                ]
            },
            bakery: {
                title: 'قائمة منتجات المخابز',
                items: [
                    { text: 'توفير صناديق بلاستيكية مخصصة للخبز', classification: 'Major' },
                    { text: 'توفير حاوية مغلقة للمنتجات المرتجعة', classification: 'Minor' }
                ]
            },
            frozen: {
                title: 'قائمة الأغذية المبردة والمجمدة',
                items: [
                    { text: 'وحدة تبريد/تجميد بحالة جيدة مع مقياس قراءة خارجي', classification: 'Major' },
                    { text: 'إطار مطاطي محكم على الأبواب لمنع التسرب', classification: 'Major' },
                    { text: 'توفير ستائر بلاستيكية على الأبواب', classification: 'Minor' }
                ]
            },
            fruits: {
                title: 'قائمة الفواكه والخضروات',
                items: [
                    { text: 'جدران معزولة لضمان التبريد المناسب', classification: 'Major' },
                    { text: 'ترتيب الصناديق لضمان وصول التبريد لكل الشحنة', classification: 'Minor' }
                ]
            },
            meats: {
                title: 'قائمة اللحوم المبردة',
                items: [
                    { text: 'أدوات تعليق للذبائح من مادة غير قابلة للصدأ', classification: 'Major' },
                    { text: 'وضع اللحوم المعبأة على حوامل أو قواعد', classification: 'Major' }
                ]
            },
            fish: {
                title: 'قائمة الأسماك الطازجة',
                items: [
                    { text: 'مركبة مخصصة فقط لنقل الأسماك', classification: 'Major' },
                    { text: 'توفير ثلج مجروش مطابق للمواصفات', classification: 'Major' },
                    { text: 'حاويات خاصة للفصل بين أنواع الأسماك', classification: 'Minor' }
                ]
            }
        };

        function showChecklist(type) {
            const checklistData = checklists[type];
            // Combine with general requirements if not the general list itself
            const allItems = type === 'general' 
                ? checklistData.items 
                : [...checklists.general.items, ...checklistData.items];

            document.getElementById('checklist-title').innerText = checklistData.title;
            const checklistBody = document.getElementById('checklist-body');
            checklistBody.innerHTML = ''; // Clear previous items

            allItems.forEach((item, index) => {
                const row = `
                    <tr>
                        <td class="px-4 py-4 whitespace-nowrap">${item.text}</td>
                        <td class="px-4 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${item.classification === 'Major' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}">
                                ${item.classification === 'Major' ? 'رئيسي' : 'ثانوي'}
                            </span>
                        </td>
                        <td class="px-4 py-4 whitespace-nowrap text-sm text-center">
                            <div class="flex items-center justify-center gap-x-4">
                                <div class="flex items-center"><input type="radio" name="item-${index}" class="h-4 w-4 border-gray-300 text-teal-600 focus:ring-teal-500"> <span class="mr-1">مطابق</span></div>
                                <div class="flex items-center"><input type="radio" name="item-${index}" class="h-4 w-4 border-gray-300 text-red-600 focus:ring-red-500"> <span class="mr-1">غير مطابق</span></div>
                            </div>
                        </td>
                    </tr>
                `;
                checklistBody.innerHTML += row;
            });

            document.getElementById('vehicle-selection').classList.add('hidden');
            document.getElementById('checklist-area').classList.remove('hidden');
            document.getElementById('inspection-date').valueAsDate = new Date();
        }

        function hideChecklist() {
            document.getElementById('checklist-area').classList.add('hidden');
            document.getElementById('vehicle-selection').classList.remove('hidden');
        }
    </script>
</body>
</html>
